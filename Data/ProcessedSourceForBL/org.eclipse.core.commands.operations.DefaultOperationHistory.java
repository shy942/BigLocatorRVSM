org core command oper java util arrai list java util collec java util hash map java util iter java util list java util map org core command execu excep org core command util trace org core runti assert org core runti adapt org core runti progress monitor org core runti safe runnabl org core runti statu org core runti listen list org core runti oper cancel excep org core runti safe runner org core runti statu base implement oper histori linear undo redo model oper undo undon oper redo oper elig undo undon undo oper consid likew oper redo redon redo implement direct undo redo oper strict linear undo enforc oper approv instal prevent undo redo oper undon redon oper undo context data structur default oper histori entri point modifi undo redo histori concurr default oper histori thread friendli implement outbound notif oper approv request occur thread initi request client default oper histori thread listen oper approv receiv notif default oper histori prepar receiv notif background thread access occur notif properli techniqu client widget librari implement intend subclass org core command oper oper histori org core command oper oper approv default oper histori oper histori flag set code true code histori print code code notif histori occur flag debug purpos flag set code true code histori print code code unexpect condition aris flag debug purpos flag set code true code histori print code code undo context dispos flag debug purpos flag set code true code histori print code code open close sequenc flag debug purpos flag set code true code histori print code code oper approv flag debug purpos list link oper approv listen list oper approv approv listen list listen list map undo lim context map undo context integ lim collec map hash map undo context integ list link oper histori listen listen list oper histori listen listen listen list listen list list oper redo list undoabl oper redo list collec list arrai list undoabl oper list oper undo list undoabl oper undo list collec list arrai list undoabl oper lock synchron access undo redo histori object undo redo histori lock object oper absorb oper open null oper execut composit composit oper open composit lock synchron access open composit object open composit lock object instanc default oper histori default oper histori overrid undoabl oper oper assert null oper middl execut open batch oper oper context oper batch oper dispos undo redo trigger batch oper assu undo trigger batch oper undo open composit lock open composit null open composit oper open composit oper undo lim oper undo redo histori lock undo list oper notifi oper flush redo stack context undo context context oper context context length flush redo context dispos oper refer oper dispos approv list oper approv consult oper histori undo redo allow proce method instanc list oper approv prepar receiv oper approv messag background thread access occur implement properli techniqu client widget librari param approv oper approv approv overrid oper approv oper approv approv approv approv listen list oper histori listen notifi histori oper execut undon redon method instanc list oper histori listen prepar receiv notif background thread access occur implement properli techniqu client widget librari param listen oper histori listen listen org core command oper oper histori listen org core command oper oper histori event overrid oper histori listen oper histori listen listen listen listen overrid redo undo context context null context allow pass undoabl oper oper redo oper context oper null oper redo overrid undo undo context context null context allow pass undoabl oper oper undo oper context oper null oper undo redo lim oper theori redo lim reach redo item transfer undo histori lim redo histori clear oper complet implement time return indic redo proce redo lim undoabl oper oper undo context context oper context context length lim lim context lim forc redo lim context lim context lim oper remov context context oper context length undo lim oper return indic undo proce undo lim undoabl oper oper undo context context oper context context length lim lim context lim forc undo lim context lim context lim oper remov context context oper context length overrid dispos undo context context flush undo flush redo flush context flush context trace print trace flush context context flush undo context flush redo context lim remov context flush undo flush undo context flush redo flush redo context perform redo valid check occur param monitor param oper statu redo progress monitor monitor adapt info undoabl oper oper execu excep statu statu redo approv oper info statu notifi redo oper statu oper redo monitor info oper cancel excep statu statu execu excep notifi oper trace print trace execu excep redo oper excep notifi oper trace print trace excep redo oper execu excep redo oper excep occur undo histori statu undo true undo redo histori lock redo list remov oper undo lim oper undo list oper undo fals stack refer undo oper dispos notifi listen histori updat notifi redon oper notifi oper statu statu perform undo valid check occur param monitor param oper statu undo progress monitor monitor adapt info undoabl oper oper execu excep statu statu undo approv oper info statu notifi undo oper statu oper undo monitor info oper cancel excep statu statu execu excep notifi oper trace print trace execu excep oper excep notifi oper trace print trace excep oper execu excep oper excep occur redo histori statu redo true undo redo histori lock undo list remov oper redo lim oper redo list oper redo fals stack refer redo oper dispos notif occur undo redo histori adjust notifi undon oper notifi oper statu statu overrid statu execut undoabl oper oper progress monitor monitor adapt info execu excep assert null oper error oper invalid oper execut oper histori oper approv statu statu execut approv oper info statu approv notif statu statu middl open composit oper open oper oper histori execut merg fals open composit lock open composit null open open composit oper oper histori open composit oper merg true execut oper merg notifi execut oper statu oper execut monitor info oper cancel excep statu statu execu excep notifi oper excep notifi oper execu excep execut oper excep occur histori merg statu notifi oper oper notifi oper statu dispos oper stack refer oper dispos sever interpret simpli statu statu filter list undo context undoabl oper filter list undoabl oper list undo context context method filter undo redo histori context current cac optim repeat request filter benchmark common pattern perform problem implem filter cac nullifi global histori list undoabl oper filter arrai list undo redo histori lock iter undoabl oper iter list iter iter undoabl oper oper iter oper context context filter oper filter arrai undoabl oper filter size flush redo stack oper context flush redo undo context context trace print trace flush redo histori context undo redo histori lock object filter filter redo list context filter length undoabl oper oper undoabl oper filter context oper context length remov oper context flush redo list remov oper intern remov oper remov refer context http bug org bug cgi simpli remov context context match dispos undo context context oper context context length context matc context oper remov context context oper context length redo list remov oper intern remov oper flush undo stack oper context flush undo undo context context trace print trace flush undo histori context undo redo histori lock oper context matc object filter filter undo list context filter length undoabl oper oper undoabl oper filter context oper context length remov oper context flush undo list remov oper intern remov oper remov refer context http bug org bug cgi simpli remov context context match dispos undo context context oper context context length context matc context oper remov context context oper context length undo list remov oper intern remov oper open composit context context remov context flush oper null notifi don remov composit oper end composit null open composit lock open composit null open composit context context context open composit context length end composit open composit open composit null open composit remov context context notifi block end composit null notifi end composit forc redo histori context max item forc redo lim undo context context max undo redo histori lock object filter filter redo list context size filter length size size max undoabl oper remov undoabl oper filter context remov context length remov oper enforc global lim oper context redo list remov remov intern remov remov oper multipl context reach lim remov context oper remov remov context context size forc undo histori context max item forc undo lim undo context context max undo redo histori lock object filter filter undo list context size filter length size size max undoabl oper remov undoabl oper filter context remov context length remov oper enforc global lim oper context undo list remov remov intern remov remov oper multipl context reach lim remov context oper remov remov context context size overrid lim undo context context lim kei context lim context valu consult oper approv propos redo allow statu redo approv undoabl oper oper adapt info oper approv approv approv statu approv approv proce redo oper info approv trace print trace redo approv approv oper oper approv approv approv statu overrid undoabl oper redo histori undo context context assert null context filter redo list context overrid undoabl oper redo oper undo context context assert null context undo redo histori lock redo list size undoabl oper oper redo list oper context context oper null consult oper approv propos undo allow statu undo approv undoabl oper oper adapt info oper approv approv approv statu approv approv proce undo oper info approv trace print trace undo approv approv oper oper statu approv approv statu overrid undoabl oper undo histori undo context context assert null context filter undo list context overrid undoabl oper undo oper undo context context assert null context undo redo histori lock undo list size undoabl oper oper undo list oper context context oper null consult oper approv propos execu allow statu execut approv undoabl oper oper adapt info oper approv tmp approv tmp oper approv oper approv approv oper approv tmp statu approv approv proce execut oper info approv trace print trace execut approv approv oper oper statu approv approv statu remov oper dispos notifi listen intern remov undoabl oper oper oper dispos notifi remov oper notifi listen oper event notifi listen oper histori event event event oper advanc undoabl oper advanc undoabl oper advanc advanc undoabl oper event oper safe runner safe runnabl overrid handl excep throwabl excep trace print trace excep notif callback excep overrid excep advanc notifi event oper histori listen listen listen safe runner safe runnabl overrid handl excep throwabl excep trace print trace excep notif callback excep overrid excep listen histori notif event notifi execut undoabl oper oper trace print trace oper notifi listen oper histori event oper histori event oper notifi listen oper redo notifi redo undoabl oper oper trace print trace oper notifi listen oper histori event oper histori event oper notifi listen oper undo notifi undo undoabl oper oper trace print trace oper notifi listen oper histori event oper histori event oper notifi listen oper notifi undoabl oper oper trace print trace oper notifi listen oper histori event oper histori event oper notifi listen oper execut notifi undoabl oper oper trace print trace oper notifi listen oper histori event oper histori event oper notifi listen oper succe attempt execut undo redo notifi undoabl oper oper notifi oper null notifi listen oper succe attempt execut undo redo statu attempt notifi undoabl oper oper statu statu trace print trace oper notifi listen oper histori event oper histori event oper statu notifi listen oper redon notifi redon undoabl oper oper trace print trace oper notifi listen oper histori event oper histori event oper notifi listen oper remov histori notifi remov undoabl oper oper trace print trace oper notifi listen oper histori event oper histori event oper notifi listen oper undon notifi undon undoabl oper oper trace print trace oper notifi listen oper histori event oper histori event oper notifi listen oper undon notifi chang undoabl oper oper trace print trace oper notifi listen oper histori event oper histori event oper overrid statu redo undo context context progress monitor monitor adapt info execu excep assert null context undoabl oper oper redo oper context info oper oper null oper histori error oper invalid oper redo trace print trace redo oper valid oper oper histori redo monitor info oper overrid statu redo oper undoabl oper oper progress monitor monitor adapt info execu excep assert null oper statu statu oper redo statu redo monitor info oper trace print trace redo oper valid oper statu oper histori statu overrid remov oper approv oper approv approv approv remov approv overrid remov oper histori listen oper histori listen listen listen remov listen overrid replac oper undoabl oper oper undoabl oper replac undo histori undo fals undo redo histori lock undo list oper undo true undo list remov oper notifi listen lock undo list releas arrai list undo context context arrai list replac length replac length undo context context replac context context length context context undo list replac notifi listen lock histori releas doesn replac context size undo context context context forc undo lim context lim context undo notifi listen oper remov intern remov oper replac length notifi replac oper undo histori redo histori undo redo histori lock redo list oper arrai list undo context context arrai list replac length redo list remov oper notifi listen releas lock redo list replac length undo context context replac context context length context context redo list replac notifi listen releas lock redo list doesn replac context size undo context context context forc redo lim context lim context send listen notif releas lock histori intern remov oper replac length notifi replac overrid set lim undo context context lim assert true lim lim check method interpret null context global lim enforc support global lim implement excep null context rest implement handl null context subclass overrid global lim desir assert null context lim context integ lim undo redo histori lock forc undo lim context lim forc redo lim context lim overrid statu undo undo context context progress monitor monitor adapt info execu excep assert null context undoabl oper oper undo oper context info oper oper null oper histori error oper invalid oper undo trace print trace undo oper valid oper oper histori undo monitor info oper overrid statu undo oper undoabl oper oper progress monitor monitor adapt info execu excep assert null oper statu statu oper undo statu undo monitor info oper trace print trace undo oper valid oper statu oper histori statu overrid open oper composit oper oper mode open composit lock open composit null open composit oper unexpect nest oper trace print trace open oper call oper open open composit oper illeg state excep open oper open open composit oper trace print trace open oper open composit mode notifi execut open composit overrid close oper oper histori mode composit oper end composit null open composit lock open composit null trace print trace attempt close oper open notif occur synchon block open composit null trace print trace close oper open composit end composit open composit open composit null notif occur sequenc end composit null oper mode notifi end composit histori end composit mode notifi end composit overrid oper chang undoabl oper oper undo list oper redo list oper notifi chang oper